\section{Koszul-Vinberg algebras}
Koszul-Vinberg algebras, more commonly known as pre-Lie algebras, 
arise naturally in differential geometry. Let $\left(M ,\nabla \right)$ be a gauge structure with $\nabla$ a torsionless Koszul connection on $M$. A product is defined on $\chi\left(M\right)=\Gamma\left(TM \right)$ by:
\begin{equation}
    \label{eq:example_kv}
    X \circ Y = \nabla_X Y, \, X,Y \in \chi\left(M\right).
\end{equation}
The commutator $X\circ Y - Y \circ X$ is the usual Lie bracket, but the Jacobi identity is not satisfied by the product $\circ$. The associator is given by the relation:
\begin{equation}
    \label{eq:associator_nabla}
    \left( X, Y, Z \right) = \nabla_{\nabla_X Y} Z - \nabla_X \nabla_Y Z = - \nabla^2_{X,Y}Z, \, X, Y, Z \in \chi\left(M\right).
\end{equation}
From the above property, it is easy to derive the next proposition:
\begin{prop}
\label{prop:kv_defect}
For any $X,Y,Z \in \chi\left(M\right):$
\begin{equation}
\label{eq:kv_defect}
    \left( X, Y, Z \right) - \left( Y, X, Z \right) = - R^\nabla\left( X, Y \right) Z,
\end{equation}
with $R^\nabla$ the curvature of $\nabla.$
\end{prop}
\begin{proof}
Obvious from the expression: $R^\nabla\left( X, Y \right) Z = \nabla^2_{X,Y}Z - \nabla^2_{Y,X}Z.$
\end{proof}
If $\nabla$ is flat, then:
$\left( X, Y , Z \right) = \left( Y, X, Z \right),$ that is the defining property of a pre-Lie algebra.
\subsection{Definitions}
Let $k$ be a field, that will always be $\R$ or $\C$ in the following, and let $A$ be a $k$-vector space. 
\begin{defn}
\label{def:kv_def}
$A$ is said to be a pre-Lie (or a KV-algebra) if equipped with a product $\circ \colon A \times A \to A$ such that, for any $a,b,c$ in $A$:
\begin{equation}
    \label{eq:kv_def}
    (a,b,c)=(b,a,c), \, (a,b,c)=(a\circ b )\circ c - a \circ (b \circ c).
\end{equation}
\end{defn} 
\begin{prop}
\label{prop:subjacent_lie}
Let $A$ be a KV algebra. The bracket:
\begin{equation}
    \label{eq:bracket}
    \left[a,b\right] = a \circ b - b \circ a.
\end{equation}
provides $A$ with a Lie algebra structure, denoted by $A^{L}.$
\end{prop}
\begin{defn}
\label{def:lproduct}
Let $a \in A.$ The left product endomorphism $L_a$ is defined by:
\begin{equation}
    \label{eq:la}
    L_a b = a \circ b, \, b \in A.
\end{equation}
\end{defn}
\begin{prop}
\label{prop:lie_morphism}
For any $a,b, \in A:$
\begin{equation}
    \label{eq:lie_morphism}
    \left[ L_a, L_b \right] = L_{[a,b]}.
\end{equation}
\end{prop}
\begin{proof}
    Let $w \in A$. Then:
    \begin{equation}
    \left[ L_a, L_b \right]w = a \circ \left( b \circ w \right) - b \circ \left(a \circ w \right).
    \end{equation}
    Using the associator, the right hand term can be rewritten as:
    \begin{equation}
        \left( a \circ b \right) \circ w - \left( a,b,w \right) - \left( b \circ a \right) \circ w + \left( b,a,w \right) = \left( [a,b] \right)\circ w = L_{[a,b]} w,
    \end{equation}
   which concludes the proof. 
\end{proof}
The endomorphism $L_a$ extends to a derivation of the symmetric algebra $S(A)$ by application of the Liebniz rule:
\begin{equation}
    \label{eq:der_la}
    L_a \left( a_1 \otimes \dots \otimes a_q \right)= \sum_{i=1}^q a_1 \otimes \dots a a_i \dots \otimes a_q,
\end{equation}
hence there is a Lie algebra morphism $L \colon a \in A \mapsto \text{Der}S\left( A \right)$ by equation \ref{eq:lie_morphism}.
Now, for any $a \in A$, define:
\begin{equation}
    \label{eq:theta_morphism}
    \Theta_a x = a. x + L_a x, x \in S\left( A \right).
\end{equation}
\begin{prop}
    \label{prop:theta_morphism}
    $\Theta$ is a Lie algebra morphism from $A$ to $\text{End}(A).$
\end{prop}
\begin{proof}
    By a brute force approach, and since $S(A)$ is commutative:
    \begin{equation}
        \begin{split}
            & \left[ \Theta_a, \Theta_b \right]  x = a .  \Theta_b x + L_a \Theta_b x - b .  \Theta_a x - L_b \Theta_a x \\
            &= a . b . x + a . L_b x + L_a (b. x) + L_a L_b x - b . a . x - b L_a x - L_b (a . x) - L_b L_a x \\
            &= a . L_b x + b . L_a x + (a \circ b) . x +  L_a L_b x - b . L_a x - a . L_b x - (b \circ a). x - L_b L_a x \\
            &= \left( a \circ b - b \circ a \right) . x + \left[ L_a, L_b \right] x \\
            & = \Theta_{[a,b]} x.
        \end{split}
    \end{equation}
\end{proof}
$\Theta$ uniquely lifts to a Lie algebra morphism, still denoted by $\Theta$, between $\mathcal{U}(A)$, the universal enveloping algebra of $A$ and $S(A)$.
Finally, the morphism of graded algebra $ \theta \colon u \in \mathcal{U}(A) \to \Theta_u 1$ is an isomorphism since, for $u=u_1 \otimes \dots \otimes u_q$:
\begin{equation}
    \theta(u)=\Theta{u_1 \otimes \dots \otimes u_q} 1 = u_1 \otimes \dots \otimes u_q + r
\end{equation}
with $r$ of degree at most $q-1$, hence vanishing in the graded algebra. Gathering things, the next theorem is proved:
\begin{thm}[KV PoincarÃ©-Birkhoff-Witt]
    \label{thm:pbw_prelie}
    Let $A$ be a pre-Lie algebra and let $\mathcal{U}(A)$ be the universal envelopping algebra of the Lie algebra associated to $A$. There exists an isomorphism 
$\theta \colon \mathcal{U}(A) \to S(A).$
\end{thm}
\begin{defn}[\cite{bai2008}]
Let $A$ be a KV algebra. A representation of $A$ on a vector space $V$ is a pair of linear maps $L,R$ from $A$ to $\mathfrak{GL}(V)$ such that $L$ is a Lie algebra morphism 
from $A^{L}$ to $\mathfrak{gl}(V)$ and $R$ satisfies:
\begin{equation}
    \label{eq:kv_representation}
    \left[R(b),L(a)\right]=R(b)R(a)-R(a \circ b).
\end{equation}
A vector space $V$ equipped with a representation $L,R$ is said to be a $KV$-module (or pre-Lie module). 
\end{defn}
\begin{notation}
The action of $L$ (resp. $R$) on an element $v$ of $V$ is conveniently denoted as a left (resp. right) product:
\[
L(a)v = a \triangleleft v, \, R(a)v = v \triangleright a \, .
\]
\end{notation}
\begin{rem}
    Equation \ref{eq:kv_representation} is a weak form of associativity. In fact, the requirements on $L,R$ can be rewritten with associators as:
    \begin{equation}
        \label{eq:module_associator}
        \left( a, b, v \right) = \left( b, a , v \right), \, \left( a, v, b \right) = \left( v, a,b \right), \, a,b \in A, \, v \in V.
    \end{equation}
with:
\begin{equation}
    \begin{split}
    &\left( a,b,v \right) = \left( a \circ b \right) \triangleleft v - a \triangleleft \left( b \triangleleft v\right), \\ 
    &\left( a, v, b \right) = \left( a \triangleleft v \right) \triangleright b - a \triangleleft \left( v \triangleright b \right) \\
    &\left( v, a, b \right) = \left( v \triangleright a \right) \triangleright b - v \triangleright \left( a \circ b \right).
    \end{split}
\end{equation}
\end{rem}
\subsection{Cohomology}
The references for this section are \cite{Boyom2002,Dzhumadil1999}. 
\begin{defn}
    \label{def:kv_complex}
    Let $V$ be a $KV$-module. For any positive integer $q$, let $C^q\left( A, V \right) = \hom_\R\left( \otimes^q A, V \right),$ the vector space of $q$-multilinear $V$-valued maps.
    It has a natural $KV$-module structure with actions:
    \begin{equation}
        \label{eq:kv_cq}
        \begin{split}
            & \left( a \triangleleft f \right)\left( a_1 \otimes \dots \otimes a_q \right) = a \triangleleft f\left( a_1 \otimes \dots \otimes a_q \right) - \sum_{i=1}^q f\left( 
                a_1 \otimes \dots \otimes \left(a \circ a_i\right) \otimes \dots a_q
             \right) \\
             & \left( f \triangleright a \right)\left( a_1 \otimes \dots \otimes a_q \right) = f\left( a_1 \otimes \dots \otimes a_q \right) \triangleright a.
        \end{split}
    \end{equation}
\end{defn}
\begin{defn}
\label{def:kv_face_insert}
Let $q$ be a positive integer. The face (resp. insertion) operator is defined by:
\begin{equation}
    \label{eq:kv_face}
    \partial_i \colon a_1 \otimes \dots \otimes a_q = a_1 \otimes \dots \otimes \hat{a}_i \otimes \dots \otimes a_q
\end{equation}
resp.
\begin{equation}
    \label{eq:kv_insert}
    \mathcal{I}_i(a) \colon a_1 \otimes \dots \otimes a_q = 
    \begin{cases}
        a_1 \otimes \dots  a_{i-1} \otimes a \otimes a_i \otimes \dots \otimes a_q, \, a \in A, \, i=2 \dots q\\
        a \otimes a_1 \otimes \dots \otimes a_q, \, a \in A, i=1 \\
        a_1 \otimes \dots \otimes a_q \otimes a, \, a \in A, i=q+1 \\
    \end{cases}
\end{equation}
\end{defn}
\begin{rem}
    The notation $\hat{a}_i$ means, as usual, that the factor $i$ is omitted. 
\end{rem}
The composition $\partial_i \mathcal{I}_i(a)$ is the identity while $\mathcal{I}_i(a) \partial_i$ replaces the $i$-th element of $a_1 \otimes \dots \otimes a_q$ by $a.$
Other commutations rules are:
\begin{equation}
    \label{eq:commutation_face_insertion}
    \begin{split}
    & \partial_i \mathcal{I}_j(a) = \mathcal{I}_{j-1}(a) \partial_i, \, j > i \\
    & \partial_i \mathcal{I}_j(a) = \mathcal{I}_j(a) \partial_{i-1}, \, j < i.
    \end{split}
\end{equation}
If $f \in C^q(A,V)$, then $f \circ \partial_i \in C^{q+1}(A,V)$ and $f \circ \mathcal{I}_i(a) \in C^{q-1}(A,V).$ 
\begin{defn}
    \label{def:kv_coboundary}
    The coboundary operator $\delta^q \colon C^q \left( A,V \right) \to C^{q+1}\left( A,V \right)$ is defined by \cite{Boyom2002}:
    \begin{equation}
        \label{eq:coboundary}
        \delta^q f = \sum_{j=1 \dots q} \left( -1 \right)^j \left[ a_j  \triangleleft \left(f \partial_j\right) +  f\left( \mathcal{I}_q(a_j)\partial_{q}\partial_j\right)\triangleright a_{q+1}  \right]
    \end{equation}
\end{defn}
\begin{prop}
    \label{prop:delta_square}
    For $q \geq 0:$
    \begin{equation}
    \label{eq:delta_square}
    \delta^{q+1} \delta^q = 0.
    \end{equation}
\end{prop}
The proof of proposition \ref{prop:delta_square} can be done by brute force, as in \cite{Boyom2002}, but a simpler approach through semi-simplicial modules can be found in
\cite{Boyom2016} and in \cite{Dzhumadil1999}. 
It is also a consequence of the next proposition.
\begin{defn}
\label{def:def_theta}
Let $1 \leq i < q$ be integers. $\theta_i \colon \otimes^q A \to \otimes^{q-1} A$ is defined by:
\begin{equation}
    \label{eq:def_theta}
    \theta_i \left( a_1 \otimes \dots \otimes a_q 
    \right) = L_{a_i} \partial_i \left( a_1 \otimes \dots \otimes a_q 
    \right). 
\end{equation}
\end{defn}
\begin{prop}
\label{prop:theta_simplicial}
Let $1 < i < j < q$ be three integers. Then, for $\xi \in \otimes^q A$:
\begin{equation}
\label{eq:theta_expression}
    \theta_j \theta_i \xi = \left(L_{(a_i a_{j+1})}  + L_{a_{j+1}}L_{a_i} \right) \partial_i \partial_{j+1} \xi.
\end{equation}
Furthermore, the following semi-simplicial identity holds:
\begin{equation}
    \label{eq:theta_simplicial}
    \theta_j \theta_i \xi = \theta_{i} \theta_{j+1} \xi.
\end{equation}
\end{prop}
\begin{proof}
The first part of the proposition is obtained by writing the action of $\theta_j \theta_i$ on an elementary tensor $a_1 \otimes \dots \otimes a_q :$
\begin{equation}
    \theta_j \theta_i \left(a_1 \otimes \dots \otimes a_q\right) = 
    \sum_{k \neq i} \theta_j \left( a_1 \otimes \dots \otimes a_i a_k \otimes \dots \otimes \hat{a}_i \otimes \dots \otimes a_q \right)
\end{equation}
For $k=j+1:$
\begin{equation}
    \theta_j \left( a_1 \otimes \dots \otimes a_i a_k \otimes \dots \otimes \hat{a}_i \otimes \dots \otimes a_q \right) = 
    L_{(a_i a_{j+1})} \partial_i \partial_{j+1} \left(a_1 \otimes \dots \otimes a_q \right),
\end{equation}
and for $k \neq j+1:$
\begin{equation}
    \theta_j \left( a_1 \otimes \dots \otimes a_i a_k \otimes \dots \otimes \hat{a}_i \otimes \dots \otimes a_q \right) = 
    L_{a_{j+1}} L_{a_i} \partial_i \partial_{j+1}\left(a_1 \otimes \dots \otimes a_q \right).
\end{equation}
Summing the two terms yields the first claim. Now, again by direct computation:
\begin{equation}
    \theta_i \theta_{j+1} \xi = 
    \left(L_{(a_{j+1}a_i)} + L_{a_i}L_{a_{j+1}}\right)\partial_i \partial_{j+1} \xi.
\end{equation}
The difference $ \left(\theta_j \theta_i  - \theta_{i} \theta_{j+1}\right) \xi$ computes as:
\begin{equation}
    \left(L_{[a_i,a_{j+1}]} - \left[L_{a_i},L_{a_{j+1}}\right]\right)\partial_i \partial_{j+1} \xi = 0.
\end{equation}
\end{proof}
The same scheme can be applied to the operator:
\begin{equation}
    \label{eq:first_term_delta}
    \eta_i \colon f \in C^q(A,V) \to a_i \triangleleft \left( f \partial_i \right) = L_{a_i}\left( f \partial_i \right).
\end{equation}
to obtain the next proposition:
\begin{prop}
\label{prop:eta_simplicial}
Let $1 < i < j < q$ be three integers and $f \in C^q(A,V)$. Then:
\begin{equation}
\label{eq:eta_expression}
    \eta_j \eta_i f = \left(L_{(a_i a_{j+1})}  + L_{a_{j+1}}L_{a_i} \right)\left(f \partial_i \partial_{j+1} \right).
\end{equation}
Furthermore, the following semi-simplicial identity holds:
\begin{equation}
    \label{eq:eta_simplicial}
    \eta_j \eta_i f = \eta_{i} \eta_{j+1} f.
\end{equation}
\end{prop}
\begin{rem}
    It is quite interesting to note that the semi-simplicial identities for $\theta_i$ (resp. $\eta_i$) are due to the fact that the operator $L_a, a \in A $ acting on $\otimes^q A$ (resp. $C^q(A,V)$) is a Lie algebra representation. 
\end{rem}
Finally, the second term in the expression of $\delta^q$ can be written as an operator:
\begin{equation}
    \label{eq:rho_operator}
    \rho_i \colon f \in C^q(A,V) \mapsto R_{a_{q+1}} f\left(\mathcal{I}_q(a_i)\partial_q \partial_i\right)
\end{equation}
also satisfies a semi-simplicial property:
\begin{equation}
    \label{eq:rho_semi_simplicial}
    \begin{split}
    &\rho_j \rho_i + \rho_j \eta_i + \eta_j \rho_i - \left( \rho_i \rho_{j+1} + \rho_i \eta_{j+1} + \eta_i \rho_{j+1} \right) = \\
    &\left[ R_{a_{q+1}},L_{a_i},\right] - R_{a_{q+1}}R_{a_i} -R_{a_{q+1}a_i}  \\
    &-\left[ R_{a_{q+1}},L_{a_{j+1}},\right] - R_{a_{q+1}}R_{a_{j+1}}+ R_{a_{q+1}a_{j+1}}  = 0.
    \end{split}
\end{equation}
\begin{rem}
Here again, the semi-simplicial identity depends on the defining relations of a KV module. In the expression of $\delta^q$, both terms have a clear interpretation, a fact that is often overlooked.
\end{rem}
Gathering things together:
\begin{equation}
    \label{eq:delta_semi_simplicial}
    \delta^{q+1}\delta^q = 0.
\end{equation}

\begin{defn}
\label{def:kv_cohomology}
The KV-cohomology of $A$ with coefficient in $V$ is the cohomology of the complex $C^*\left( A,V \right), \delta^*.$
\end{defn}
